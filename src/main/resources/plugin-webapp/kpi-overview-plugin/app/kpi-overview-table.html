<table class="cam-table">
  <thead>
    <tr>
      <th>Done?</th>
      <th>User Task</th>
      <th>KPI</th>
      <th>Started</th>
      <th>Finished</th>
      <th>Duration</th>
      <th>Overdue</th>
    </tr>
  </thead>
  <tbody>
    <tr ng-repeat="task in tasks">
      <td>
        <span ng-if="task.restTask.endTime" class="glyphicon glyphicon-ok"></span>
      </td>
      <td>
        <a cam-select-activity-instance="task.restTask.activityId" ng-href="{{ task.link }}" ng-if="task.link"><b>{{ task.name }}</b> ({{ task.id }})</a>
        <span ng-if="!task.link">
          <b>{{ task.name }}</b> ({{ task.id }})
        </span>
      </td>

      <td>
        <p ng-repeat="kpiData in task.kpiData">
          {{ kpiData.kpi }} {{ kpiData.kpiunit }}
        </p>
      </td>
      <td>
        <p>
          {{ task.restTask.created  }} {{ task.restTask.startTime  }}
        </p>
      </td>
      <td>
        <p>
          {{ task.restTask.endTime }}
        </p>
      </td>
      <td>
        <p>
          {{ task.restTask.duration }}
        </p>
      </td>
      <td>
        <p>
          <span ng-if="task.restTask.overdue" class="glyphicon glyphicon-exclamation-sign"> </span>{{ task.restTask.overdue }} ({{task.restTask.overdueTime}})
        </p>
      </td>
    </tr>

    <tr ng-if="!tasks">
      <td colspan="6">
        <i class="icon-loading"></i> loading tasks...
      </td>
    </tr>

    <tr ng-if="tasks && !tasks.length">
      <td colspan="6">
        No tasks
      </td>
    </tr>

  </tbody>
</table>

<pagination ng-if="pages.total > pages.size"
  class="pagination-sm"

  page="pages.current"
  ng-model="pages.current"

  total-items="pages.total"
  items-per-page="pages.size"

  max-size="7"
  boundary-links="true"></pagination>
